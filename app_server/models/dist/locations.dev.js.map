{"version":3,"sources":["locations.js"],"names":["mongoose","require","openingTimesSchema","Schema","days","type","String","required","opening","closing","closed","Boolean","reviewSchema","author","rating","Number","min","max","reviewText","createdOn","Date","now","locationSchema","name","address","facilities","coords","index","openingTimes","reviews","model"],"mappings":";;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,IAAMC,kBAAkB,GAAG,IAAIF,QAAQ,CAACG,MAAb,CAAoB;AAC/CC,EAAAA,IAAI,EAAE;AACNC,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GADyC;AAK/CC,EAAAA,OAAO,EAAEF,MALsC;AAM/CG,EAAAA,OAAO,EAAEH,MANsC;AAO/CI,EAAAA,MAAM,EAAE;AACRL,IAAAA,IAAI,EAAEM,OADE;AAERJ,IAAAA,QAAQ,EAAE;AAFF;AAPuC,CAApB,CAA3B;AAaA,IAAMK,YAAY,GAAG,IAAIZ,QAAQ,CAACG,MAAb,CAAoB;AACzCU,EAAAA,MAAM,EAAEP,MADiC;AAEzCQ,EAAAA,MAAM,EAAE;AACRT,IAAAA,IAAI,EAAEU,MADE;AAERR,IAAAA,QAAQ,EAAE,IAFF;AAGRS,IAAAA,GAAG,EAAE,CAHG;AAKRC,IAAAA,GAAG,EAAE;AALG,GAFiC;AASzCC,EAAAA,UAAU,EAAEZ,MAT6B;AAUzCa,EAAAA,SAAS,EAAE;AACXd,IAAAA,IAAI,EAAEe,IADK;AAEX,eAAWA,IAAI,CAACC;AAFL;AAV8B,CAApB,CAArB;AAgBA,IAAMC,cAAc,GAAG,IAAItB,QAAQ,CAACG,MAAb,CAAoB;AAC3CoB,EAAAA,IAAI,EAAE;AACNlB,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GADqC;AAK3CiB,EAAAA,OAAO,EAAElB,MALkC;AAM3CQ,EAAAA,MAAM,EAAE;AACRT,IAAAA,IAAI,EAAEU,MADE;AAER,eAAW,CAFH;AAGRC,IAAAA,GAAG,EAAE,CAHG;AAIRC,IAAAA,GAAG,EAAE;AAJG,GANmC;AAY3CQ,EAAAA,UAAU,EAAE,CAACnB,MAAD,CAZ+B;AAa3CoB,EAAAA,MAAM,EAAE;AACRrB,IAAAA,IAAI,EAAE;AAAEA,MAAAA,IAAI,EAAEC;AAAR,KADE;AAERqB,IAAAA,KAAK,EAAE,CAACZ,MAAD;AAFC,GAbmC;AAiB3Ca,EAAAA,YAAY,EAAE,CAAC1B,kBAAD,CAjB6B;AAkB3C2B,EAAAA,OAAO,EAAE,CAACjB,YAAD;AAlBkC,CAApB,CAAvB;AAqBAU,cAAc,CAACK,KAAf,CAAqB;AAACD,EAAAA,MAAM,EAAE;AAAT,CAArB;AAEA1B,QAAQ,CAAC8B,KAAT,CAAe,UAAf,EAA2BR,cAA3B","sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst openingTimesSchema = new mongoose.Schema({\r\ndays: {\r\ntype: String,\r\nrequired: true\r\n},\r\nopening: String,\r\nclosing: String,\r\nclosed: {\r\ntype: Boolean,\r\nrequired: true\r\n}\r\n});\r\n\r\nconst reviewSchema = new mongoose.Schema({\r\nauthor: String,\r\nrating: {\r\ntype: Number,\r\nrequired: true,\r\nmin: 0,\r\n\r\nmax: 5\r\n},\r\nreviewText: String,\r\ncreatedOn: {\r\ntype: Date,\r\n'default': Date.now\r\n}\r\n});\r\n\r\nconst locationSchema = new mongoose.Schema({\r\nname: {\r\ntype: String,\r\nrequired: true\r\n},\r\naddress: String,\r\nrating: {\r\ntype: Number,\r\n'default': 0,\r\nmin: 1,\r\nmax: 5\r\n},\r\nfacilities: [String],\r\ncoords: {\r\ntype: { type: String},\r\nindex: [Number]\r\n},\r\nopeningTimes: [openingTimesSchema],\r\nreviews: [reviewSchema]\r\n});\r\n\r\nlocationSchema.index({coords: '2dsphere'});\r\n\r\nmongoose.model('Location', locationSchema);"],"file":"locations.dev.js"}